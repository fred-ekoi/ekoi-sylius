{% from '@SyliusAdmin/Macro/translationForm.html.twig' import translationFormWithSlug %}

<div class="ui segment">
    {{ form_errors(form) }}
    <div class="two fields">
        {{ form_row(form.code) }}
        {{ form_row(form.parent) }}
    </div>
    <div class="fields">
        {{ form_row(form.enabled) }}
    </div>
    <div class="ui upload box" id="{{ form.vars.id }}">
        <div class="ui field element">
            {{ form_label(form.image) }}
            <img class="ui small bordered image mb-3 {% if form.image.vars.data.path|default(null) is null %}hidden{% endif %}" src="{% if form.image.vars.data.path|default(null) is not null %}{{ form.image.vars.data.path|default(null)|imagine_filter('sylius_medium') }}{% endif %}" alt="{{ form.vars.data.code|default }}"/>
            {{ form_widget(form.image) }}

        </div>
        <div class="ui element">
            {{- form_errors(form.image) -}}
        </div>
    </div> 
</div>
{{ translationFormWithSlug(form.translations, '@SyliusAdmin/Taxon/_slugField.html.twig', taxon) }}

{% include '@SyliusAdmin/Taxon/_media.html.twig' %}
